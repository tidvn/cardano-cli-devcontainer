{
  "name": "Cardano CLI Devcontainer",
  "image": "ghcr.io/blinklabs-io/cardano-node:main",
  "features": {
    "docker-in-docker": "latest"
  },
  "mounts": [
    "source=.node/data,target=/data/db,source=.node/ipc,target=/ipc,type=bind"
  ],
  "postCreateCommand": "alias cardano-cli='docker run --rm -ti  -e NETWORK=preprod  -v node-ipc:/ipc  ghcr.io/blinklabs-io/cardano-node cli'",
  "runArgs": [
    "--env",
    "NETWORK=preprod",
    "--publish",
    "3001:3001",
    "--volume",
    ".node/data:/data/db",
    "--volume",
    ".node/ipc:/ipc",
    "--cap-add=SYS_NICE",
    "--network=host"
  ],
  "shutdownAction": "none"
}